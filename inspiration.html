
<!DOCTYPE html>
<html class="writer-html5" lang="en">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Inspiration for Cloud Formats and Aggregations &mdash; PADOCC Package v1.1 documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=19f00094" />

  
    <link rel="shortcut icon" href="_static/favicon.ico"/>
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="_static/jquery.js?v=5d32c60e"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js?v=3dd8cc91"></script>
        <script src="_static/doctools.js?v=888ff710"></script>
        <script src="_static/sphinx_highlight.js?v=4825356b"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Phases of the PADOCC Pipeline" href="phases.html" />
    <link rel="prev" title="PADOCC - User Documentation" href="index.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            PADOCC Package
              <img src="_static/padocc_wt.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Inspiration</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#data-archives">Data Archives</a></li>
<li class="toctree-l2"><a class="reference internal" href="#distributed-data">Distributed Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="#a-workflow-for-data-conversion">A workflow for data conversion</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="phases.html">Steps to Run Padocc</a></li>
<li class="toctree-l1"><a class="reference internal" href="start.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="cci_water.html">Example Operation</a></li>
<li class="toctree-l1"><a class="reference internal" href="deep_dive.html">A Deep Dive</a></li>
<li class="toctree-l1"><a class="reference internal" href="dev-guide.html">Developer Guide - Adding new functionality</a></li>
<li class="toctree-l1"><a class="reference internal" href="dev-guide.html#new-modes-in-assessor">1. New Modes in Assessor</a></li>
<li class="toctree-l1"><a class="reference internal" href="dev-guide.html#new-processors-for-compute">2. New Processors for Compute</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Operations:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="projects.html">The Project Operator</a></li>
<li class="toctree-l1"><a class="reference internal" href="groups.html">The Group Operator</a></li>
<li class="toctree-l1"><a class="reference internal" href="shepard.html">SHEPARD</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">PADOCC Source:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="project_source.html">Projects</a></li>
<li class="toctree-l1"><a class="reference internal" href="group_source.html">Groups</a></li>
<li class="toctree-l1"><a class="reference internal" href="phase_source.html">Phases</a></li>
<li class="toctree-l1"><a class="reference internal" href="misc_source.html">Filehandlers, Logs, and Utilities</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">PADOCC Package</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Inspiration for Cloud Formats and Aggregations</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/inspiration.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="inspiration-for-cloud-formats-and-aggregations">
<h1>Inspiration for Cloud Formats and Aggregations<a class="headerlink" href="#inspiration-for-cloud-formats-and-aggregations" title="Permalink to this heading"></a></h1>
<section id="data-archives">
<h2>Data Archives<a class="headerlink" href="#data-archives" title="Permalink to this heading"></a></h2>
<p>The need for cloud-accessible analysis-ready data is increasing due to high demand for cloud-native applications and wider usability of data.
Current archival formats and access methods are insufficient for an increasing number of user needs, especially given the volume of data being
produced by various projects globally.</p>
<img alt="Contents of the CEDA Archive circa August 2024." class="align-center" src="_images/CedaArchive0824.png" />
<p>The CEDA-operated JASMIN data analysis facility has a current (2024) data archive of more than 30 Petabytes, with more datasets being ingested
daily. Around 25% of all datasets are in NetCDF/HDF formats which are well-optimised for HPC architecture, but do not typically perform as well
and are not as accessible for cloud-based applications. The standard NetCDF/HDF python readers for example require direct access to the source
files, so are not able to open files stored either in Object Storage (S3) or served via a download service, without first downloading the whole file.</p>
</section>
<section id="distributed-data">
<h2>Distributed Data<a class="headerlink" href="#distributed-data" title="Permalink to this heading"></a></h2>
<p>The aim of distributed data aggregations is to make the access of data more effective when dealing with these vast libraries of data.
Directly accessing the platforms, like JASMIN, where the data is stored is not necessarily possible for all users, and we would like to avoid the dependence
on download services where GB/TBs of data is copied across multiple sites. Instead, the data may be accessed via a <strong>reference/aggregation file</strong> which provides
the instructions to fetch portions of the data, and applications reading the file are able to load data as needed rather than all at once (Lazy Loading).</p>
<img alt="A diagram of how the typcial Distributed Data methods operate." class="align-center" src="_images/DataDistributed.png" />
<p>Formats which provide effective remote data access are typically referred to as <strong>Cloud Optimised Formats</strong> (COFs) like <a class="reference external" href="https://zarr.readthedocs.io/en/stable/">Zarr</a> and <a class="reference external" href="https://fsspec.github.io/kerchunk/">Kerchunk</a>, as in the diagram above.
Zarr stores contain individual <strong>binary-encoded</strong> files for each chunk of data in memory. Opening a Zarr store means accessing the top-level metadata which
informs the application reader how the data is structured. Subsequent calls to load the data will then only load the appropriate memory chunks. Kerchunk
functions similarly as a pointer to chunks of data in another location, however Kerchunk only references the existing chunk structure within NetCDF files,
rather than having each chunk as a separate file.</p>
<p>PADOCC supports an additional format called CFA, which takes elements of both of these methods. CFA files store references to portions of the array, rather than ranges of bytes of compressed/uncompressed data like with Kerchunk.
These references are stored in NetCDF instead of JSON metadata files, which has the advantage of lazily-loaded references from a single file. Read more about CF Aggregations <a class="reference external" href="https://cedadev.github.io/CFAPyX/">here</a>.</p>
</section>
<section id="a-workflow-for-data-conversion">
<h2>A workflow for data conversion<a class="headerlink" href="#a-workflow-for-data-conversion" title="Permalink to this heading"></a></h2>
<p>PADOCC is a tool being actively developed at CEDA to enable large-scale conversion of archival data to some of these new cloud formats, to address the issues above.
Originally created as part of the ESA Climate Change Initiative project, PADOCC is steadily growing into an essential part of the CEDA ingestion pipeline.
New datasets deposited into the CEDA archive will soon be automatically converted by PADOCC and represented as part of the growing STAC catalog collection at CEDA.
Use of the catalogs is facilitated by the <a class="reference external" href="https://cedadev.github.io/datapoint/">CEDA DataPoint</a> package, which auto-configures for multiple different file types.</p>
<p>The result of this new data architecture will be that users of CEDA data can discover and access data through our packages much faster and more efficiently than before,
without the need to learn to use many new formats. All the nuances of each dataset are handled by DataPoint, and use products created by PADOCC to facilitate fast search/access
to the data.</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="index.html" class="btn btn-neutral float-left" title="PADOCC - User Documentation" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="phases.html" class="btn btn-neutral float-right" title="Phases of the PADOCC Pipeline" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022-2024, Centre of Environmental Data Analysis Developers,Scientific and Technical Facilities Council (STFC),UK Research and Innovation (UKRI). BSD 2-Clause License. All rights reserved..</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>  

  <style>
    /* Sidebar header (and topbar for mobile) */
    .wy-side-nav-search, .wy-nav-top {
      background: #e92603;
    }

    .caption-text, .header h1 {
        color: #ef4d5a
    }

    .note {
        background: #BEEF9E
    }
    .admonition-title {
        background: #335145
    }

    .wy-nav-side {
        background: #001711;
    }

  </style>


</body>
</html>